# 1.AMQP và Nova # 
- AMQP là công nghệ mesageing được chọn bởi Openstack cloud. AMQP, mặc định là Rabbitmq,Các thành phần của Nova sử dụng các cuộc gọi từ xa (RPC) để liên lạc với nhau. 
## 1.1. RabbitMQ Gotchas ## 
- Nova sử dụng Kombu để connect tới môi trường RabbitMQ. Kombu là một thư viện Python sử dụng AMQPlib. Khi sử dụng Kombu, Invikers và Workers cần các tham số sau để khởi tạo một đối tượng kết nối với máy chủ RabbitMQ
  - **hostname** 
     - Hostname tới server AMQP
  - **userid** 
     - một username hợp lệ để xác thực với server
  - **password** 
     - password sủ dụng để xác thực tới server 
  - **virtual_host** 
     - tên của virtual host khi làm việc . Virtual host này phải được tồn tại trên server, và user phải truy cập được tới nó. Mặc định là `/` 
  - **port** 
     - Port của AMQP server, mặc định là **5672** 
- `cac tham số sau là mặc định`
  - **insist** 
     - Insist kết nối tới server. 
  - connect_timeout 
     - Time được tính bằng giây trước khi client không kết nối tới máy chủ. Mặc định là không có timeout 
  - **ssl**
     - Sủ dụng ssl để kết nối tới server. mặc định là False
  - **connection** 
     - Các object kết nối được đề cập ở trên 
  - **queue** 
     - Tên của queue 
  - **exchange** 
     - tên của exchange queue liên kết đến. 
  - **routing_key** 
     - **Direct exchange** 
	    - Nếu như định tuyến key property của message và `routing_key` thuộc tính của queue giống nhau thì message sẽ được chuyển tiếp tới queue 
	 - **Fanout exchange**
	    - Message được chuyển đến queues bound,ngay cả khi binding không có key 
	 - **Topic exchange** 
	    - Nếu key property của message mà khớp với routing key của key thì message sẽ được chuyển tới queue. 
  - **durable** 
    - flag này sẽ xác định durablity của both exchange và queue, durable exchange và queue sẽ vẫn active khi mà server RabbitMQ restart. 
  - **auto_delete** 
    - Nếu được đặt, the exchange sẽ xóa khi tất cả queue hoàn thành sử dụng. Mặc định là False 
  - **exclusive** 
    - Exclusive queue chỉ có thể được sử dụng bởi kết nối hiện tại 
	
https://docs.openstack.org/nova/queens/reference/rpc.html