# Bắt đầu với libvirt và tạo máy ảo với các tool # 
## 1.Làm việc với libvirt ## 
- Cần cài đặt KVM và các gói phụ trợ 
```
yum -y install qemu-kvm libvirt virt-install bridge-utils virt-manager
```
- Nếu như trên bản minimal ta phải cài thêm X11 Windows System: 
```
yum install "@X Window System" xorg-x11-xauth xorg-x11-fonts-* xorg-x11-utils -y
```
## 2. quản lí máy ảo với virt-manager ## 
- Virt-manager là một ứng dụng giao diện đồ họa dùng để quản lí các máy ảo thông qua libvirt. Nó chủ yếu được sử dụng trên KVM, nhưng cũng quản lí cả Xen và LXC (linux containers). virt-manager hiển thị cung cấp số liệu thống kê về việc hiệu suất, sử dụng tài nguyên trên VM.Sử dụng virt-manager có thể dễ dàng tạo các VMs mới, theo dõi và thay đổi configure khi có yêu cầu. 
- Để chạy Virtual Machine Manager bằng câu lệnh virt-manager hoặc nhấn Alt+f2 và nó sẽ hiển thị  
- Khi virt-manager được hiển thị, chọn **Edit|Connection** kết nối để truy cập các tùy chọn để configure mạng và storage. 
- ![Atom](https://i.imgur.com/Z34KXOy.png)

## 3.The Virtual Network tab ## 
- Nó cho phép cấu hình các virtual network khác nhau và theo dõi tình trạng chúng. 
- Sử dụng Virtual Network , bạn có thể cấu hình các loại mạng sau 
   - NATed 
   - Routed 
   - Isolated 
- **NATed**: Virtual Network dựa trên NATed sẽ cung cấp các kết nối mạng bên ngoài tới máy ảo.Điều này có nghĩa các máy ảo kết nối đến switch ảo, sử dụng ip của máy chủ để giao tiếp với mạng bên ngoài. Các máy ở bên ngoài sẽ không thể thiết lập kết nối với các máy ở trong bằng địa chỉ IP khi Switch ảo hoạt động ở chế độ NAT mà phải dùng IP và port của switch ảo
- **Routed** : Với chế độ routed, virtual switch sẽ được kết nối đến mạng LAN vật lý của host bằng cách định tuyến các gói tin ở tầng Network(Layer 3 trong mô hình TCP/IP) cho phép giao tiếp qua lại với mạng ngoài mà không cần NAT. Mạng LAN của máy chủ có thể giao tiếp với các máy ảo nếu có cấu hình định tuyến đến mạng ảo
- **Isolated** : Ở chế độ này, các máy ảo kết nối đến virtual switch có thể kết nối với nhau và với host nhưng không thể kết nối đến mạng ngoài của host.
- ![Atom](https://i.imgur.com/ZxOzZMp.png)

## 4.Storage tab ## 
- Storage tab cung cấp chi tiết về các storage pools có sẵn. Một storage pools là một store để lưu disk image máy ảo. 
- ![Atom](https://i.imgur.com/TNNERPh.png)

## 5. Tạo một virtual machines sử dụng Virtual Machine Manager ## 
- Các phương pháp dùng virt-manager tạo Guest OS 
   - Local install media (ISO Image hoặc CD-ROM) 
   - Network install (HTTP,FTP,hoặc NFS) 
   - Network boot (PXE) 
   - Importing existing disk images. 
   
- 